<!DOCTYPE HTML>
<html lang="en" class="light sidebar-visible" dir="ltr">
    <head>
        <!-- Book generated using mdBook -->
        <meta charset="UTF-8">
        <title></title>
        <meta name="robots" content="noindex">


        <!-- Custom HTML head -->

        <meta name="description" content="">
        <meta name="viewport" content="width=device-width, initial-scale=1">
        <meta name="theme-color" content="#ffffff">

        <link rel="icon" href="favicon.svg">
        <link rel="shortcut icon" href="favicon.png">
        <link rel="stylesheet" href="css/variables.css">
        <link rel="stylesheet" href="css/general.css">
        <link rel="stylesheet" href="css/chrome.css">
        <link rel="stylesheet" href="css/print.css" media="print">

        <!-- Fonts -->
        <link rel="stylesheet" href="FontAwesome/css/font-awesome.css">
        <link rel="stylesheet" href="fonts/fonts.css">

        <!-- Highlight.js Stylesheets -->
        <link rel="stylesheet" href="highlight.css">
        <link rel="stylesheet" href="tomorrow-night.css">
        <link rel="stylesheet" href="ayu-highlight.css">

        <!-- Custom theme stylesheets -->


        <!-- Provide site root to javascript -->
        <script>
            var path_to_root = "";
            var default_theme = window.matchMedia("(prefers-color-scheme: dark)").matches ? "navy" : "light";
        </script>
        <!-- Start loading toc.js asap -->
        <script src="toc.js"></script>
    </head>
    <body>
    <div id="body-container">
        <!-- Work around some values being stored in localStorage wrapped in quotes -->
        <script>
            try {
                var theme = localStorage.getItem('mdbook-theme');
                var sidebar = localStorage.getItem('mdbook-sidebar');

                if (theme.startsWith('"') && theme.endsWith('"')) {
                    localStorage.setItem('mdbook-theme', theme.slice(1, theme.length - 1));
                }

                if (sidebar.startsWith('"') && sidebar.endsWith('"')) {
                    localStorage.setItem('mdbook-sidebar', sidebar.slice(1, sidebar.length - 1));
                }
            } catch (e) { }
        </script>

        <!-- Set the theme before any content is loaded, prevents flash -->
        <script>
            var theme;
            try { theme = localStorage.getItem('mdbook-theme'); } catch(e) { }
            if (theme === null || theme === undefined) { theme = default_theme; }
            const html = document.documentElement;
            html.classList.remove('light')
            html.classList.add(theme);
            html.classList.add("js");
        </script>

        <input type="checkbox" id="sidebar-toggle-anchor" class="hidden">

        <!-- Hide / unhide sidebar before it is displayed -->
        <script>
            var sidebar = null;
            var sidebar_toggle = document.getElementById("sidebar-toggle-anchor");
            if (document.body.clientWidth >= 1080) {
                try { sidebar = localStorage.getItem('mdbook-sidebar'); } catch(e) { }
                sidebar = sidebar || 'visible';
            } else {
                sidebar = 'hidden';
            }
            sidebar_toggle.checked = sidebar === 'visible';
            html.classList.remove('sidebar-visible');
            html.classList.add("sidebar-" + sidebar);
        </script>

        <nav id="sidebar" class="sidebar" aria-label="Table of contents">
            <!-- populated by js -->
            <mdbook-sidebar-scrollbox class="sidebar-scrollbox"></mdbook-sidebar-scrollbox>
            <noscript>
                <iframe class="sidebar-iframe-outer" src="toc.html"></iframe>
            </noscript>
            <div id="sidebar-resize-handle" class="sidebar-resize-handle">
                <div class="sidebar-resize-indicator"></div>
            </div>
        </nav>

        <div id="page-wrapper" class="page-wrapper">

            <div class="page">
                <div id="menu-bar-hover-placeholder"></div>
                <div id="menu-bar" class="menu-bar sticky">
                    <div class="left-buttons">
                        <label id="sidebar-toggle" class="icon-button" for="sidebar-toggle-anchor" title="Toggle Table of Contents" aria-label="Toggle Table of Contents" aria-controls="sidebar">
                            <i class="fa fa-bars"></i>
                        </label>
                        <button id="theme-toggle" class="icon-button" type="button" title="Change theme" aria-label="Change theme" aria-haspopup="true" aria-expanded="false" aria-controls="theme-list">
                            <i class="fa fa-paint-brush"></i>
                        </button>
                        <ul id="theme-list" class="theme-popup" aria-label="Themes" role="menu">
                            <li role="none"><button role="menuitem" class="theme" id="light">Light</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="rust">Rust</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="coal">Coal</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="navy">Navy</button></li>
                            <li role="none"><button role="menuitem" class="theme" id="ayu">Ayu</button></li>
                        </ul>
                        <button id="search-toggle" class="icon-button" type="button" title="Search. (Shortkey: s)" aria-label="Toggle Searchbar" aria-expanded="false" aria-keyshortcuts="S" aria-controls="searchbar">
                            <i class="fa fa-search"></i>
                        </button>
                    </div>

                    <h1 class="menu-title"></h1>

                    <div class="right-buttons">
                        <a href="print.html" title="Print this book" aria-label="Print this book">
                            <i id="print-button" class="fa fa-print"></i>
                        </a>

                    </div>
                </div>

                <div id="search-wrapper" class="hidden">
                    <form id="searchbar-outer" class="searchbar-outer">
                        <input type="search" id="searchbar" name="searchbar" placeholder="Search this book ..." aria-controls="searchresults-outer" aria-describedby="searchresults-header">
                    </form>
                    <div id="searchresults-outer" class="searchresults-outer hidden">
                        <div id="searchresults-header" class="searchresults-header"></div>
                        <ul id="searchresults">
                        </ul>
                    </div>
                </div>

                <!-- Apply ARIA attributes after the sidebar and the sidebar toggle button are added to the DOM -->
                <script>
                    document.getElementById('sidebar-toggle').setAttribute('aria-expanded', sidebar === 'visible');
                    document.getElementById('sidebar').setAttribute('aria-hidden', sidebar !== 'visible');
                    Array.from(document.querySelectorAll('#sidebar a')).forEach(function(link) {
                        link.setAttribute('tabIndex', sidebar === 'visible' ? 0 : -1);
                    });
                </script>

                <div id="content" class="content">
                    <main>
                        <h1 id="wg-wiregurad"><a class="header" href="#wg-wiregurad"><code>wg</code> (WireGurad)</a></h1>
<p>You can find all information here: <a href="https://www.wireguard.com/">https://www.wireguard.com/</a>.</p>
<h2 id="tldr"><a class="header" href="#tldr"><strong>TL;DR</strong></a></h2>
<hr />
<p>Manage the configuration of WireGuard interfaces.</p>
<p>More information: <a href="https://www.wireguard.com/quickstart/">https://www.wireguard.com/quickstart/</a>.</p>
<pre><code class="language-sh"># Check status of currently active interfaces
sudo wg

# Generate a new private key
wg genkey

# Generate a public key from a private key
wg pubkey &lt; path/to/private_key &gt; path/to/public_key

# Generate a public and private key
wg genkey | tee path/to/private_key | wg pubkey &gt; path/to/public_key

# Show the current configuration of a wireguard interface
sudo wg showconf wg0
</code></pre>
<h2 id="key-pair-creation"><a class="header" href="#key-pair-creation">Key Pair Creation</a></h2>
<hr />
<pre><code class="language-sh">wg genkey | tee /path/to/wg-priv.key | wg pubkey | tee /path/to/wg-pub.key
# or
wg genkey | tee /path/to/privatekey | wg pubkey &gt; /path/to/publickey
# or
wg genkey &gt; /path/privatekey &amp;&amp; wg pubkey &lt; /path/privatekey &gt; /path/publickey
</code></pre>
<h2 id="configuration-file-examples"><a class="header" href="#configuration-file-examples">Configuration file examples</a></h2>
<hr />
<p>WireGuard encapuslates and encrypts all data using <strong>UDP</strong> with default <strong>port 51820</strong>.</p>
<pre><code class="language-sh">nano -l /etc/interfaces/&lt;wg-interface-name&gt;.conf
</code></pre>
<h3 id="pattern"><a class="header" href="#pattern">Pattern</a></h3>
<hr />
<pre><code class="language-conf">[Interface]
Address = &lt;IP&gt;/&lt;mask&gt;
PrivateKey = &lt;your-public-key&gt;
ListenPort = 55820

[Peer]
PublicKey = &lt;public key of the other end of the tunnel&gt;
Endpoint = &lt;IP&gt;:55820
AllowedIPs = &lt;tunnel-subnet&gt;/&lt;mask&gt;
</code></pre>
<h3 id="wireguard-end-to-end-tunnel"><a class="header" href="#wireguard-end-to-end-tunnel">WireGuard <strong>End-to-End</strong> Tunnel</a></h3>
<hr />
<p>On <strong>Client1</strong>:</p>
<pre><code class="language-conf">[Interface]
Address = 10.27.214.98/30
SaveConfig = true
ListenPort = 51820
PrivateKey = cMxJNvd5rErTXyecAg4rlCmRKHohyaaz6KzYBF/qVG8=

# Client-2/wg-intf
[Peer]
PublicKey = 8Tsqi0T1DWijG7Zb0QfnWH7zcA7NnlUsGRuaUzqzR2Q=
# AllowedIPs = &lt;tunnel-subnet&gt;/&lt;mask&gt;
AllowedIPs = 10.27.214.96/30
# Endpoint = Client-2 public IP
Endpoint = 10.179.7.66:51820
PersistentKeepalive = 60
</code></pre>
<p>On <strong>Client2</strong>:</p>
<pre><code class="language-conf">[Interface]
Address = 10.27.214.97/30
SaveConfig = true
ListenPort = 51820
PrivateKey = SKff+08t1TVayJj3Ob2lemtSG0G9fXqGCvyUPYDFCUc=

# Client-1/wg-intf
[Peer]
PublicKey = ki3M91uPAU/ooKr9dogvEq7R0vHS0gQNkx83MQp7Xyo=
# AllowedIPs = &lt;tunnel-subnet&gt;/&lt;mask&gt;
AllowedIPs = 10.27.214.96/30
# Endpoint = Client-1 public IP
Endpoint = 172.30.106.246:51820
PersistentKeepalive = 60
</code></pre>
<h3 id="wireguard-server-clients-tunnel"><a class="header" href="#wireguard-server-clients-tunnel">WireGuard <strong>Server-Clients</strong> Tunnel</a></h3>
<hr />
<p>For example, a <strong>server</strong> computer might have this configuration:</p>
<pre><code class="language-sh">Interface]
PrivateKey = yAnz5TF+lXXJte14tji3zlMNq+hd2rYUIgJBgB3fBmk=
ListenPort = 51820

[Peer]
PublicKey = xTIBA5rboUvnH4htodjb6e697QjLERt1NAB4mZqp8Dg=
AllowedIPs = 10.192.122.3/32, 10.192.124.1/24

[Peer]
PublicKey = TrMvSoP4jYQlY6RIzBgbssQqY3vxI2Pi+y71lOWWXX0=
AllowedIPs = 10.192.122.4/32, 192.168.0.0/16

[Peer]
PublicKey = gN65BkIKy1eCE9pP1wdc8ROUtkHLF2PfAqYdyYBz6EA=
AllowedIPs = 10.10.10.230/32
</code></pre>
<p>And a <strong>client</strong> computer might have this simpler configuration:</p>
<pre><code class="language-sh">[Interface]
PrivateKey = gI6EdUSYvn8ugXOt8QQD6Yc+JyiZxIhp3GInSWRfWGE=
ListenPort = 21841

[Peer]
PublicKey = HIgo9xNzJMWLKASShiTqIybxZ0U3wGLiUeJ1PKf8ykw=
Endpoint = 192.95.5.69:51820
AllowedIPs = 0.0.0.0/0
</code></pre>
<h2 id="creating-the-wireguard-interfaces"><a class="header" href="#creating-the-wireguard-interfaces">Creating the WireGuard interfaces</a></h2>
<hr />
<h3 id="the-iproute2-way"><a class="header" href="#the-iproute2-way">The <code>iproute2</code> way</a></h3>
<hr />
<pre><code class="language-sh">ip link add wg-isc type wireguard
wg setconf wg-isc /etc/wireguard/wg-isc.conf  # or whatever you named your config
ip address add &lt;IP&gt;/&lt;mask&gt; dev wg-isc
</code></pre>
<h3 id="using-wg-quick"><a class="header" href="#using-wg-quick">Using <code>wg-quick</code></a></h3>
<hr />
<blockquote>
<p>The WireGuard interface name must match the name of the file <strong>/etc/wireguard/&lt;wg-interface&gt;.conf</strong>.</p>
</blockquote>
<pre><code class="language-sh">wg-quick up &lt;wg-interface&gt;
wg-quick down &lt;wg-interface&gt;
</code></pre>
<p><strong>wg-quick</strong> will automatically run the <strong>ip</strong> commands, as shown bellow:</p>
<pre><code class="language-sh">$ wg-quick up wg-isc  
[#] ip link add wg-isc type wireguard
[#] wg setconf wg-isc /dev/fd/63
[#] ip -4 address add 10.12.34.253/30 dev wg-isc
[#] ip link set mtu 1370 up dev wg-isc
</code></pre>
<pre><code class="language-sh">$ wg-quick down wg-isc                        
[#] ip link delete dev wg-isc
</code></pre>
<h2 id="wireguard-statistics"><a class="header" href="#wireguard-statistics">WireGuard statistics</a></h2>
<hr />
<pre><code class="language-sh">wg
</code></pre>
<p>Result:</p>
<img src="https://www.wireguard.com/img/wg-tool.png">
<div style="break-before: page; page-break-before: always;"></div><h1 id="netcat-aka-nc"><a class="header" href="#netcat-aka-nc"><code>netcat</code> (a.k.a <code>nc</code>)</a></h1>
<h2 id="tldr-1"><a class="header" href="#tldr-1"><strong>TL;DR</strong></a></h2>
<hr />
<p>Redirect I/O into a network stream through this versatile tool.</p>
<p>More information: <a href="https://manned.org/nc">https://manned.org/nc</a>.</p>
<pre><code class="language-sh"># Start a listener on the specified TCP port and send a file into it:
nc -l -p port &lt; filename

# Connect to a target listener on the specified port and receive a file from it:
nc host port &gt; received_filename

# Scan the open TCP ports of a specified host:
nc -v -z -w timeout_in_seconds host start_port-end_port

# Start a listener on the specified TCP port and provide your local shell access to the connected party (this is dangerous and can be abused):
nc -l -p port -e shell_executable

# Connect to a target listener and provide your local shell access to the remote party (this is dangerous and can be abused):
nc host port -e shell_executable

# Act as a proxy and forward data from a local TCP port to the given remote host:
nc -l -p local_port | nc host remote_port

# Send an HTTP GET request:
echo -e "GET / HTTP/1.1\nHost: host\n\n" | nc host 80
</code></pre>
<h2 id="file-transfer"><a class="header" href="#file-transfer">File Transfer</a></h2>
<hr />
<blockquote>
<p>Source from: <a href="https://www.youtube.com/shorts/1j17UBGqSog?feature=share">https://www.youtube.com/shorts/1j17UBGqSog?feature=share</a>.</p>
</blockquote>
<iframe width=600px height="350px" aspect-ratio=16/9 src="https://www.youtube.com/embed/1j17UBGqSog" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<p>Firstly, we need to run this on the <strong>receiver</strong>:</p>
<pre><code class="language-sh">netcat -l 1234 &gt; SECRETS.txt
</code></pre>
<p>Then the <strong>sender</strong> will type:</p>
<pre><code class="language-sh">cat SECRETS.txt | netcat &lt;IP-Receiver&gt; 1234 -q 0
</code></pre>
<p>The <strong>-q 0</strong> flag closes the connection when the transfer if complete.</p>
<p>Also, don't forget to verify the <strong>hashes</strong> of the files, using a CLI tool loke <code>sha512sum</code>.</p>
<blockquote>
<p>During a network file transfer, <code>netcat</code> doesn't perform <strong>integrity check</strong>.
There is the <em>small chance</em> that the file was not transfered correctly.
It is a good practice to calculate a <strong>checksum</strong>.</p>
</blockquote>
<pre><code class="language-sh"># Both on sender and receiver
shat512sum SECRETS.txt
</code></pre>
<h2 id="options"><a class="header" href="#options">Options</a></h2>
<hr />
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Flag</th><th style="text-align: left">Example Command</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>-h</code></td><td style="text-align: left"><code>nc -h</code></td><td style="text-align: left">Help</td></tr>
<tr><td style="text-align: left"><code>-z</code></td><td style="text-align: left"><code>nc -z 192.168.1.9 1-100</code></td><td style="text-align: left">Port scan for a host or IP address</td></tr>
<tr><td style="text-align: left"><code>-v</code></td><td style="text-align: left"><code>nc -zv 192.168.1.9 1-100</code></td><td style="text-align: left">Provide verbose output</td></tr>
<tr><td style="text-align: left"><code>-n</code></td><td style="text-align: left"><code>nc -zn 192.168.1.9 1-100</code></td><td style="text-align: left">Fast scan by disabling DNS resolution</td></tr>
<tr><td style="text-align: left"><code>-l</code></td><td style="text-align: left"><code>nc -lp 8000</code></td><td style="text-align: left">TCP Listen mode (for inbound connects)</td></tr>
<tr><td style="text-align: left"><code>-w</code></td><td style="text-align: left"><code>nc -w 180 192.168.1.9 8000</code></td><td style="text-align: left">Define timeout value</td></tr>
<tr><td style="text-align: left"><code>-k</code></td><td style="text-align: left"><code>nc -kl 8000</code></td><td style="text-align: left">Continue listening after disconnection</td></tr>
<tr><td style="text-align: left"><code>-u</code></td><td style="text-align: left"><code>nc -u 192.168.1.9 8000</code></td><td style="text-align: left">Use UDP instead of TCP</td></tr>
<tr><td style="text-align: left"><code>-q</code></td><td style="text-align: left"><code>nc -q 1 192.168.1.9 8000</code></td><td style="text-align: left">Client stay up after EOF</td></tr>
<tr><td style="text-align: left"><code>-4</code></td><td style="text-align: left"><code>nc -4 -l 8000</code></td><td style="text-align: left">IPv4 only</td></tr>
<tr><td style="text-align: left"><code>-6</code></td><td style="text-align: left"><code>nc -6 -l 8000</code></td><td style="text-align: left">IPv6 only</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="netstat"><a class="header" href="#netstat"><code>netstat</code></a></h1>
<h2 id="tldr-2"><a class="header" href="#tldr-2"><strong>TL;DR</strong></a></h2>
<hr />
<p>Display network-related information such as open connections, open socket ports, etc.
See also: ss.</p>
<p>More information: <a href="https://manned.org/netstat">https://manned.org/netstat</a>.</p>
<pre><code class="language-sh"># List all ports:
netstat --all

# List all listening ports:
netstat --listening

# List listening TCP ports:
netstat --tcp

# Display PID and program names:
netstat --program

# List information continuously:
netstat --continuous

# List routes and do not resolve IP addresses to hostnames:
netstat --route --numeric

# List listening TCP and UDP ports (+ user and process if you're root):
netstat --listening --program --numeric --tcp --udp --extend
</code></pre>
<h2 id="options-1"><a class="header" href="#options-1">Options</a></h2>
<hr />
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">[OPTION]</th><th style="text-align: left">Command</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>-a</code></td><td style="text-align: left"><code>netstat -a</code></td><td style="text-align: left">Displays all active ports</td></tr>
<tr><td style="text-align: left"><code>-e</code></td><td style="text-align: left"><code>netstat -e</code></td><td style="text-align: left">Shows statistics about your network connection (received and sent data packets, etc.)</td></tr>
<tr><td style="text-align: left"><code>-i</code></td><td style="text-align: left"><code>netstat -i</code></td><td style="text-align: left">Brings up the netstat overview menu</td></tr>
<tr><td style="text-align: left"><code>-n</code></td><td style="text-align: left"><code>netstat -n</code></td><td style="text-align: left">Numerical display of addresses and port numbers</td></tr>
<tr><td style="text-align: left"><code>-p protocol</code></td><td style="text-align: left"><code>netstat -p TCP</code></td><td style="text-align: left">Displays the connections for the specified protocol, in this case TCP (also possible: UDP, TCPv6, or UDPv6)</td></tr>
<tr><td style="text-align: left"><code>-q</code></td><td style="text-align: left"><code>netstat -q</code></td><td style="text-align: left">Lists all connections, all listening TCP ports, and all open TCP ports that are not listening</td></tr>
<tr><td style="text-align: left"><code>-r</code></td><td style="text-align: left"><code>netstat -r</code></td><td style="text-align: left">Displays the IP routing table</td></tr>
<tr><td style="text-align: left"><code>-s</code></td><td style="text-align: left"><code>netstat -s</code></td><td style="text-align: left">Retrieves statistics about the important network protocols such as TCP, IP, or UDP</td></tr>
</tbody></table>
</div>
<h2 id="all-in-one-go"><a class="header" href="#all-in-one-go">All in one go</a></h2>
<hr />
<pre><code class="language-sh">netstat -tulpan
</code></pre>
<blockquote>
<p><code>-n</code> flag disables <strong>DNS resolution</strong>, meaning that IP addresses will be displayed instead of names and the ouput will be printed faster.</p>
</blockquote>
<pre><code class="language-sh"># With DNS resolution
netstat -tulpa
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nmap"><a class="header" href="#nmap"><code>nmap</code></a></h1>
<blockquote>
<p>⚠️ <code>nmap</code> is illegal! Don't run it on networks you don't own and you aren't authorized to scan!</p>
</blockquote>
<h2 id="tldr-3"><a class="header" href="#tldr-3"><strong>TL;DR</strong></a></h2>
<hr />
<p>Network exploration tool and security/port scanner.</p>
<p>Some features (e.g. SYN scan) activate only when nmap is run with root privileges.</p>
<p>More information: <a href="https://nmap.org/book/man.html">https://nmap.org/book/man.html</a>.</p>
<pre><code class="language-sh"># Scan the top 1000 ports of a remote host with various [v]erbosity levels:
nmap -v1|2|3 ip_or_hostname

# Run a ping sweep over an entire subnet or individual hosts very aggressively:
nmap -T5 -sn 192.168.0.0/24|ip_or_hostname1,ip_or_hostname2,...

# Enable OS detection, version detection, script scanning, and traceroute of hosts from a file:
sudo nmap -A -iL path/to/file.txt

# Scan a specific list of ports (use -p- for all ports from 1 to 65535):
nmap -p port1,port2,... ip_or_host1,ip_or_host2,...

# Perform service and version detection of the top 1000 ports using default NSE scripts, writing results (-oA) to output files:
nmap -sC -sV -oA top-1000-ports ip_or_host1,ip_or_host2,...

# Scan target(s) carefully using default and safe NSE scripts:
nmap --script "default and safe" ip_or_host1,ip_or_host2,...

# Scan for web servers running on standard ports 80 and 443 using all available http-* NSE scripts:
nmap --script "http-*" ip_or_host1,ip_or_host2,... -p 80,443

# Attempt evading IDS/IPS detection by using an extremely slow scan (-T0), decoy source addresses (-D), [f]ragmented packets, random data and other methods:
sudo nmap -T0 -D decoy_ip1,decoy_ip2,... --source-port 53 -f --data-length 16 -Pn ip_or_host
</code></pre>
<h2 id="common-used-options"><a class="header" href="#common-used-options">Common Used Options</a></h2>
<hr />
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Option</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>-sL</code></td><td style="text-align: left">List Scan - simply list targets to scan</td></tr>
<tr><td style="text-align: left"><code>-sn</code></td><td style="text-align: left">Ping Scan - disable port scan</td></tr>
<tr><td style="text-align: left"><code> -p &lt;port ranges&gt;</code></td><td style="text-align: left">Only scan specified ports</td></tr>
<tr><td style="text-align: left"><code>-sV</code></td><td style="text-align: left">Probe open ports to determine service/version info</td></tr>
<tr><td style="text-align: left"><code>-O</code></td><td style="text-align: left">Enable OS detection</td></tr>
<tr><td style="text-align: left"><code>-T&lt;0-5&gt;</code></td><td style="text-align: left">Set timing template (higher is faster)</td></tr>
<tr><td style="text-align: left"><code>-n/-R</code></td><td style="text-align: left">Never do DNS resolution/Always resolve [default: sometimes]</td></tr>
<tr><td style="text-align: left"><code>--spoof-mac &lt;mac address/prefix/vendor name&gt;</code></td><td style="text-align: left">Spoof your MAC address</td></tr>
<tr><td style="text-align: left"><code>-v</code></td><td style="text-align: left">Increase verbosity level (use <code>-vv</code> or more for greater effect)</td></tr>
<tr><td style="text-align: left"><code>-d</code></td><td style="text-align: left">Increase debugging level (use <code>-dd</code> or more for greater effect)</td></tr>
<tr><td style="text-align: left"><code>-6</code></td><td style="text-align: left">Enable IPv6 scanning</td></tr>
<tr><td style="text-align: left"><code>-A</code></td><td style="text-align: left">Enable OS detection, version detection, script scanning, and traceroute</td></tr>
</tbody></table>
</div><div style="break-before: page; page-break-before: always;"></div><h1 id="rsync"><a class="header" href="#rsync"><code>rsync</code></a></h1>
<h2 id="tldr-4"><a class="header" href="#tldr-4"><strong>TL;DR</strong></a></h2>
<hr />
<p>Transfer files either to or from a remote host (but not between two remote hosts), by default using <strong>SSH</strong>.</p>
<p>To specify a remote path, use <strong>user@host:path/to/file_or_directory</strong>.</p>
<p>More information: <a href="https://download.samba.org/pub/rsync/rsync.1">https://download.samba.org/pub/rsync/rsync.1</a>.</p>
<pre><code class="language-sh"># Transfer a file:
rsync path/to/source path/to/destination

# Use archive mode (recursively copy directories, copy symlinks without resolving, and preserve permissions, ownership and modification times):
rsync -a|--archive path/to/source path/to/destination

# Compress the data as it is sent to the destination, display verbose and human-readable progress, and keep partially transferred files if interrupted:
rsync -zvhP|--compress --verbose --human-readable --partial --progress path/to/source path/to/destination

# Recursively copy directories:
rsync -r|--recursive path/to/source path/to/destination

# Transfer directory contents, but not the directory itself:
rsync -r|--recursive path/to/source/ path/to/destination

# Use archive mode, resolve symlinks, and skip files that are newer on the destination:
rsync -auL|--archive --update --copy-links path/to/source path/to/destination

# Transfer a directory from a remote host running rsyncd and delete files on the destination that do not exist on the source:
rsync -r|--recursive --delete rsync://host:path/to/source path/to/destination

# Transfer a file over SSH using a different port than the default (22) and show global progress:
rsync -e|--rsh 'ssh -p port' --info=progress2 host:path/to/source path/to/destination
</code></pre>
<h2 id="options-2"><a class="header" href="#options-2">Options</a></h2>
<hr />
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Option</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>-v</code></td><td style="text-align: left">Increases verbosity</td></tr>
<tr><td style="text-align: left"><code>-r</code></td><td style="text-align: left">Recursive, copies directories recursively</td></tr>
<tr><td style="text-align: left"><code>-a</code></td><td style="text-align: left">Archive mode, preserves permissions, ownerships, etc</td></tr>
<tr><td style="text-align: left"><code>-z</code></td><td style="text-align: left">Compress file data during the transfer</td></tr>
<tr><td style="text-align: left"><code>-h</code></td><td style="text-align: left">Output numbers in a human-readable format</td></tr>
<tr><td style="text-align: left"><code>--delete</code></td><td style="text-align: left">Delete extraneous (unnecessary) files from destination dirs</td></tr>
<tr><td style="text-align: left"><code>--progress</code></td><td style="text-align: left">Show progress during transfer</td></tr>
<tr><td style="text-align: left"><code>-e ssh</code></td><td style="text-align: left">Specify the ssh as remote shell</td></tr>
<tr><td style="text-align: left"><code>--exclude</code></td><td style="text-align: left">Exclude files matching a specified pattern</td></tr>
<tr><td style="text-align: left"><code>--include</code></td><td style="text-align: left">Don't exclude files matching a specified pattern</td></tr>
</tbody></table>
</div>
<h2 id="examples"><a class="header" href="#examples">Examples</a></h2>
<hr />
<pre><code class="language-sh"># Sync files/dirs between local and remote host.
rsync -avzh source destination


# Sync files/dirs from remote host to local host.
rsync -avzhe ssh user@remote:/source /destination


# Sync files/dirs from local host to remote host.
rsync -avzhe ssh /source user@remote:/destination


# Sync with deletion where if a file/directory is removed from source,
# it will be removed from destination
rsync -avzh --delete source destination


# Sync with progress output
rsync -avzh --progress source destination


# Sync while excluding directories/files that match pattern.
rsync -avzh --exclude 'Dir*' source destination


# Sync only directories/files that match pattern.
rsync -avzh --include 'Dir*' --exclude '*' source destination
</code></pre>
<blockquote>
<p>You can use <code>--include</code> and <code>--exclude</code> options multiple times.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ssh-secure-shell"><a class="header" href="#ssh-secure-shell"><code>SSH</code> (Secure Shell)</a></h1>
<hr />
<p>Sub-chapters:</p>
<ul>
<li><a href="content/Linux-Networking/./content/Linux-Networking/ssh/ssh-keygen.html">ssh-keygen</a></li>
<li><a href="content/Linux-Networking/./content/Linux-Networking/ssh/ssh-copy-id.html">ssh-copy-id</a></li>
<li><a href="content/Linux-Networking/./content/Linux-Networking/ssh/ssh-config.html">ssh-config</a></li>
<li><a href="content/Linux-Networking/./content/Linux-Networking/ssh.html">ssh</a></li>
<li><a href="content/Linux-Networking/./content/Linux-Networking/ssh/scp.html">scp</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ssh-keygen"><a class="header" href="#ssh-keygen"><code>ssh-keygen</code></a></h1>
<h2 id="tldr-5"><a class="header" href="#tldr-5"><strong>TL;DR</strong></a></h2>
<hr />
<p>Generate SSH keys used for authentication, password-less logins, and other things.</p>
<p>More information: <a href="https://man.openbsd.org/ssh-keygen">https://man.openbsd.org/ssh-keygen</a>.</p>
<pre><code class="language-sh"># Generate a key interactively:
ssh-keygen

# Generate an ed25519 key with 32 key derivation function rounds and save the key to a specific file:
ssh-keygen -t ed25519 -a 32 -f ~/.ssh/filename

# Generate an RSA 4096-bit key with email as a comment:
ssh-keygen -t rsa -b 4096 -C "comment|email"

# Remove the keys of a host from the known_hosts file (useful when a known host has a new key):
ssh-keygen -R remote_host

# Retrieve the fingerprint of a key in MD5 Hex:
ssh-keygen -l -E md5 -f ~/.ssh/filename

# Change the password of a key:
ssh-keygen -p -f ~/.ssh/filename

# Change the type of the key format (for example from OPENSSH format to PEM), the file will be rewritten in-place:
ssh-keygen -p -N "" -m PEM -f ~/.ssh/OpenSSH_private_key

# Retrieve public key from secret key:
ssh-keygen -y -f ~/.ssh/OpenSSH_private_key
</code></pre>
<h2 id="all-in-one-go-1"><a class="header" href="#all-in-one-go-1">All in one go</a></h2>
<hr />
<p>Generating a <strong>SSH key pair</strong> programatically, without asking anything from the <strong>stdin</strong>.</p>
<pre><code class="language-sh">ssh-keygen -t ed25519 -f ~/.ssh/path -N ""
</code></pre>
<p>...Or, using RSA:</p>
<pre><code class="language-sh">ssh-keygen -t rsa -b 4096 -f ~/.ssh/path -N ""
</code></pre>
<blockquote>
<p><strong>-N</strong> option is used to specify a <strong>passphrase</strong> (a <em>password</em>). It adds more security.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ssh-copy-id"><a class="header" href="#ssh-copy-id"><code>ssh-copy-id</code></a></h1>
<p>Is used to copy a <strong>SSH public key</strong> in the <code>~/.ssh/authorized_keys</code> file of a remote computer (creating the file and directory, if necesary).</p>
<blockquote>
<p>⚠️ DON'T copy the <strong>private key</strong>!</p>
</blockquote>
<h2 id="tldr-6"><a class="header" href="#tldr-6"><strong>TL;DR</strong></a></h2>
<hr />
<p>Install your public key in a remote machine's authorized_keys.</p>
<p>More information: <a href="https://manned.org/ssh-copy-id">https://manned.org/ssh-copy-id</a>.</p>
<pre><code class="language-sh"># Copy your keys to the remote machine:
ssh-copy-id username@remote_host

# Copy the given public key to the remote:
ssh-copy-id -i path/to/certificate username@remote_host

# Copy the given public key to the remote with specific port:
ssh-copy-id -i path/to/certificate -p port username@remote_host
</code></pre>
<pre><code class="language-sh">ssh-copy-id -i &lt;PUB_KEY&gt; &lt;user&gt;@&lt;IP/hostname&gt;
</code></pre>
<h2 id="troubleshooting"><a class="header" href="#troubleshooting">Troubleshooting</a></h2>
<hr />
<p>In case <code>ssh-copy-id</code> fails, you have to manually copy the <strong>public key</strong>
on the <code>/home/&lt;USER&gt;/authorized_keys</code> file of the remote computer.</p>
<pre><code class="language-sh">nano -l ~/.ssh/authorized_keys
</code></pre>
<h2 id="default-keys-for-ssh"><a class="header" href="#default-keys-for-ssh">Default keys for SSH</a></h2>
<hr />
<p>When no key is specified with the <code>-i</code> flag,
<code>ssh-copy-id</code> copies the default public key from the user's SSH directory.
It follows this priority order:</p>
<ol>
<li><strong>~/.ssh/id_rsa.pub</strong> (if exists)</li>
<li><strong>~/.ssh/id_ecdsa.pub</strong> (if exists)</li>
<li><strong>~/.ssh/id_ed25519.pub</strong> (if exists)</li>
<li><strong>~/.ssh/id_dsa.pub</strong> (if exists) – deprecated and less secure</li>
<li>Any other <strong>id_*.pub</strong> key found in <strong>~/.ssh/</strong></li>
</ol>
<blockquote>
<p>If no public key is found, <code>ssh-copy-id</code> will prompt you to generate one using <code>ssh-keygen</code>.</p>
</blockquote>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ssh-config-file"><a class="header" href="#ssh-config-file">SSH config file</a></h1>
<p>Find more here <a href="https://collectiveidea.com/blog/archives/2011/02/04/how-to-ssh-aliases/">https://collectiveidea.com/blog/archives/2011/02/04/how-to-ssh-aliases/</a>.</p>
<pre><code class="language-sh">nano -l ~/.ssh/config
</code></pre>
<p>This <strong>configuration file</strong> is used to create <strong>SSH aliases</strong>.</p>
<pre><code class="language-config">Host example
  HostName example.com
  User exampleuser
</code></pre>
<p>Using the alias:</p>
<pre><code class="language-sh">ssh example
</code></pre>
<p>Do you have a multi-server infrastructure that you log into consistently?</p>
<pre><code class="language-config">Host project.web1
  HostName web1.project.com
  User webadmin

Host project.web2
  HostName web2.project.com
  User webadmin

Host project.db1
  HostName db1.project.com
  User webadmin

Host project.util1
  HostName util1.project.com
  User webadmin

Host project.stage
  HostName stage.project.com
  User webadmin
</code></pre>
<pre><code class="language-sh">ssh project.web1
ssh project.db1
....


# you always have the option of overriding at the command line.
ssh [email protected]
</code></pre>
<p>You can also specify the host by IP directly:</p>
<pre><code class="language-config">Host example
  HostName 127.0.0.1
  User exampleuser
</code></pre>
<p>And you can use different SSH keys:</p>
<pre><code class="language-config">Host example2
  Hostname example.com
  User exampleuser
  IdentityFile ~/.ssh/another_ssh.identity
</code></pre>
<h2 id="my-personal-ssh-config-for-openstack"><a class="header" href="#my-personal-ssh-config-for-openstack">My Personal SSH Config for <a href="https://cloud.grid.pub.ro/">OpenStack</a></a></h2>
<hr />
<pre><code class="language-config">Host open_stack
	User student
	HostName &lt;IP-VM&gt;
	ProxyJump &lt;moodle-username&gt;@fep.grid.pub.ro 
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="ssh-secure-shell-1"><a class="header" href="#ssh-secure-shell-1"><code>ssh</code> (Secure Shell)</a></h1>
<h2 id="tldr-7"><a class="header" href="#tldr-7"><strong>TL;DR</strong></a></h2>
<hr />
<p>Secure Shell is a protocol used to securely log onto remote systems.</p>
<p>It can be used for logging or executing commands on a remote server.</p>
<p>More information: <a href="https://man.openbsd.org/ssh">https://man.openbsd.org/ssh</a>.</p>
<pre><code class="language-sh"># Connect to a remote server:
ssh username@remote_host

# Connect to a remote server with a specific identity (private key):
ssh -i path/to/key_file username@remote_host

# Connect to a remote server using a specific [p]ort:
ssh username@remote_host -p 2222

# Run a command on a remote server with a [t]ty allocation allowing interaction with the remote command:
ssh username@remote_host -t command command_arguments

# SSH tunneling: [D]ynamic port forwarding (SOCKS proxy on localhost:1080):
ssh -D 1080 username@remote_host

# SSH tunneling: Forward a specific port (localhost:9999 to example.org:80) along with disabling pseudo-[T]ty allocation and executio[N] of remote commands:
ssh -L 9999:example.org:80 -N -T username@remote_host

# SSH [J]umping: Connect through a jumphost to a remote server (Multiple jump hops may be specified separated by comma characters):
ssh -J username@jump_host username@remote_host

# Close a hanged session:
&lt;Enter&gt; ~ .
</code></pre>
<h2 id="ssh-for-openstack"><a class="header" href="#ssh-for-openstack">SSH for <a href="https://cloud.grid.pub.ro/">OpenStack</a></a></h2>
<hr />
<pre><code class="language-sh">ssh -J &lt;moodle-username&gt;@fep.grid.pub.ro student@&lt;IP-VM&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="scp-secure-copy"><a class="header" href="#scp-secure-copy"><code>scp</code> (Secure Copy)</a></h1>
<h2 id="tldr-8"><a class="header" href="#tldr-8"><strong>TL;DR</strong></a></h2>
<hr />
<pre><code class="language-sh"># Copy a local file to a remote host:
scp path/to/local_file remote_host:path/to/remote_file

# Use a specific port when connecting to the remote host:
scp -P port path/to/local_file remote_host:path/to/remote_file

# Copy a file from a remote host to a local directory:
scp remote_host:path/to/remote_file path/to/local_directory

# Recursively copy the contents of a directory from a remote host to a local directory:
scp -r remote_host:path/to/remote_directory path/to/local_directory

# Copy a file between two remote hosts transferring through the local host:
scp -3 host1:path/to/remote_file host2:path/to/remote_directory

# Use a specific username when connecting to the remote host:
scp path/to/local_file remote_username@remote_host:path/to/remote_directory

# Use a specific SSH private key for authentication with the remote host:
scp -i ~/.ssh/private_key path/to/local_file remote_host:path/to/remote_file

# Use a specific proxy when connecting to the remote host:
scp -J proxy_username@proxy_host path/to/local_file remote_host:path/to/remote_file
</code></pre>
<h2 id="options-3"><a class="header" href="#options-3">Options</a></h2>
<hr />
<div class="table-wrapper"><table><thead><tr><th style="text-align: left">Option</th><th style="text-align: left">Description</th></tr></thead><tbody>
<tr><td style="text-align: left"><code>scp -r</code></td><td style="text-align: left">Recursively copy entire directories</td></tr>
<tr><td style="text-align: left"><code>scp -C</code></td><td style="text-align: left">Compresses data</td></tr>
<tr><td style="text-align: left"><code>scp -v</code></td><td style="text-align: left">Prints verbose info</td></tr>
<tr><td style="text-align: left"><code>scp -P 8080</code></td><td style="text-align: left">Uses a specific Port</td></tr>
<tr><td style="text-align: left"><code>scp -B</code></td><td style="text-align: left">Batch mode (<em>Prevents password</em>)</td></tr>
<tr><td style="text-align: left"><code>scp -p</code></td><td style="text-align: left">Preserves times and modes</td></tr>
</tbody></table>
</div>
<h2 id="ssh-for-openstack-1"><a class="header" href="#ssh-for-openstack-1">SSH for <a href="https://cloud.grid.pub.ro/">OpenStack</a></a></h2>
<hr />
<p><strong>Upload</strong> a file on OpenStack:</p>
<pre><code class="language-sh">scp -J &lt;moodle-username&gt;@fep.grid.pub.ro &lt;PATH_LOCAL_FILE&gt; student@&lt;IP-VM&gt;:&lt;PATH_REMOTE_DIR&gt;
</code></pre>
<p><strong>Download</strong> a file from OpenStack:</p>
<pre><code class="language-sh">scp -J &lt;moodle-username&gt;@fep.grid.pub.ro student@&lt;IP-VM&gt;:&lt;PATH_REMOTE_FILE&gt; &lt;PATH_LOCAL_FILE&gt;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="reverse-ssh-tunnel"><a class="header" href="#reverse-ssh-tunnel">Reverse SSH Tunnel</a></h1>
<p>TODO: corecteaza si verifica sa vezi sa fie bine</p>
<h2 id="what-is-a-reverse-tunnel"><a class="header" href="#what-is-a-reverse-tunnel">What is a Reverse Tunnel</a></h2>
<hr />
<blockquote>
<p><strong>TL;DR</strong>:</p>
<ul>
<li>we act as a <strong>server</strong> instead of a client</li>
<li>we no longer connect, we <strong>serve</strong></li>
</ul>
</blockquote>
<div class="table-wrapper"><table><thead><tr><th style="text-align: center">/</th><th style="text-align: center">Normal SSH</th><th style="text-align: center">Reverse SSH</th></tr></thead><tbody>
<tr><td style="text-align: center">Who runs the <code>ssh</code> cmd?</td><td style="text-align: center">Client</td><td style="text-align: center">Server</td></tr>
</tbody></table>
</div>
<p>When we run the following command, we become an <strong>SSH client</strong> to a specific station (server):</p>
<pre><code class="language-sh">ssh user@IP
</code></pre>
<p>However, things can happen the opposite (<strong>reversed</strong>) way: we can also act as a <strong>server</strong> to a specific client, and the command will look like this:</p>
<pre><code class="language-sh">ssh -N -R localhost:&lt;port-on-server&gt;&lt;IP-client&gt;:&lt;port-on-client&gt; &lt;client-user&gt;@&lt;IP-client&gt;
</code></pre>
<p>Short hand version:</p>
<pre><code class="language-sh">ssh -N -R &lt;port-on-server&gt;&lt;IP-client&gt;:&lt;port-on-client&gt; &lt;client-user&gt;@&lt;IP-client&gt;
</code></pre>
<blockquote>
<p>The command basically maps a port (<strong>port forwarding</strong>) on the (locally run) server to a port of the (remote) client.</p>
</blockquote>
<h2 id="how-to-reverse-ssh-tunnel"><a class="header" href="#how-to-reverse-ssh-tunnel">How to Reverse SSH Tunnel</a></h2>
<hr />
<iframe width="897" height="505" src="https://www.youtube.com/embed/TZ6W9Hi9YJw" title="How to Reverse SSH Tunnel" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
<pre><code class="language-sh">ssh -N -R localhost:8888:192.168.1.6:80 root@159.223.180.93
</code></pre>
<p>The local port on 8888 will be accessible on the remote machine</p>
<pre><code class="language-sh">ssh -N -R 8888:192.168.1.6:80 root@159.223.180.93
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><div style="break-before: page; page-break-before: always;"></div><h1 id="awk"><a class="header" href="#awk"><code>awk</code></a></h1>
<h2 id="tldr-9"><a class="header" href="#tldr-9"><strong>TL;DR</strong></a></h2>
<hr />
<p>A versatile programming language for working on files.</p>
<p>More information: <a href="https://github.com/onetrueawk/awk">https://github.com/onetrueawk/awk</a>.</p>
<pre><code class="language-sh"># Print the fifth column (a.k.a. field) in a space-separated file:
awk '{print $5}' path/to/file

# Print the second column of the lines containing "foo" in a space-separated file:
awk '/foo/ {print $2}' path/to/file

# Print the last column of each line in a file, using a comma (instead of space) as a field separator:
awk -F ',' '{print $NF}' path/to/file

# Sum the values in the first column of a file and print the total:
awk '{s+=$1} END {print s}' path/to/file

# Print every third line starting from the first line:
awk 'NR%3==1' path/to/file

# Print different values based on conditions:
awk '{if ($1 == "foo") print "Exact match foo"; else if ($1 ~ "bar") print "Partial match bar"; else print "Baz"}' path/to/file

# Print all the lines which the 10th column value is between a min and a max:
awk '($10 &gt;= min_value &amp;&amp; $10 &lt;= max_value)'

# Print table of users with UID &gt;=1000 with header and formatted output, using colon as separator (%-20s mean: 20 left-align string characters, %6s means: 6 right-align string characters):
awk 'BEGIN {FS=":";printf "%-20s %6s %25s\n", "Name", "UID", "Shell"} $4 &gt;= 1000 {printf "%-20s %6d %25s\n", $1, $4, $7}' /etc/passwd
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="grep"><a class="header" href="#grep"><code>grep</code></a></h1>
<h2 id="tldr-10"><a class="header" href="#tldr-10"><strong>TL;DR</strong></a></h2>
<hr />
<p>Find patterns in files using regular expressions.</p>
<p>More information: <a href="https://www.gnu.org/software/grep/manual/grep.html">https://www.gnu.org/software/grep/manual/grep.html</a>.</p>
<pre><code class="language-sh"># Search for a pattern within a file:
grep "search_pattern" path/to/file

# Search for an exact string (disables regular expressions):
grep -F|--fixed-strings "exact_string" path/to/file

# Search for a pattern in all files recursively in a directory, showing line numbers of matches, ignoring binary files:
grep -r|--recursive -n|--line-number --binary-files without-match "search_pattern" path/to/directory

# Use extended regular expressions (supports ?, +, {}, () and |), in case-insensitive mode:
grep -E|--extended-regexp -i|--ignore-case "search_pattern" path/to/file

# Print 3 lines of context around, before, or after each match:
grep --context|before-context|after-context 3 "search_pattern" path/to/file

# Print file name and line number for each match with color output:
grep -H|--with-filename -n|--line-number --color=always "search_pattern" path/to/file

# Search for lines matching a pattern, printing only the matched text:
grep -o|--only-matching "search_pattern" path/to/file

# Search stdin for lines that do not match a pattern:
cat path/to/file | grep -v|--invert-match "search_pattern"
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="sed"><a class="header" href="#sed"><code>sed</code></a></h1>
<h2 id="tldr-11"><a class="header" href="#tldr-11"><strong>TL;DR</strong></a></h2>
<hr />
<p>Edit text in a scriptable manner.
See also: awk, ed.</p>
<p>More information: <a href="https://manned.org/sed.1posix">https://manned.org/sed.1posix</a>.</p>
<pre><code class="language-sh"># Replace all apple (basic regex) occurrences with mango (basic regex) in all input lines and print the result to stdout:
command | sed 's/apple/mango/g'

# Execute a specific script [f]ile and print the result to stdout:
command | sed -f path/to/script.sed

# Print just a first line to stdout:
command | sed -n '1p'
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="find"><a class="header" href="#find"><code>find</code></a></h1>
<h2 id="tldr-12"><a class="header" href="#tldr-12"><strong>TL;DR</strong></a></h2>
<hr />
<p>Find files or directories under a directory tree, recursively.</p>
<p>More information: <a href="https://manned.org/find">https://manned.org/find</a>.</p>
<pre><code class="language-sh"># Find files by extension:
find root_path -name '*.ext'

# Find files matching multiple path/name patterns:
find root_path -path '**/path/**/*.ext' -or -name '*pattern*'

- Find directories matching a given name, in case-insensitive mode:
find root_path -type d -iname '*lib*'

# Find files matching a given pattern, excluding specific paths:
find root_path -name '*.py' -not -path '*/site-packages/*'

# Find files matching a given size range, limiting the recursive depth to "1":
find root_path -maxdepth 1 -size +500k -size -10M

# Run a command for each file (use {} within the command to access the filename):
find root_path -name '*.ext' -exec wc -l {} \;

# Find all files modified today and pass the results to a single command as arguments:
find root_path -daystart -mtime -1 -exec tar -cvf archive.tar {} \+

# Find empty files (0 byte) or directories and delete them verbosely:
find root_path -type f|d -empty -delete -print
</code></pre>
<h2 id="find-all-ccpp-related-files"><a class="header" href="#find-all-ccpp-related-files">Find all C/CPP related files</a></h2>
<hr />
<p>Find all files (<strong>recursively</strong>) in the current directory  using a <strong>single extension</strong>:</p>
<pre><code class="language-sh">find . -name '*.c*'
</code></pre>
<p>Find files based of <strong>multiple extensions</strong>:</p>
<pre><code class="language-sh">find . -name '*.c*' -or -name '*.cpp' -or -name '*.h'
# or
find . \( -name '*.c*' -o -name '*.cpp' -o -name '*.h' \) 
</code></pre>
<blockquote>
<p>NOTE: <code>-o</code> flag is equivalent to <code>-or</code>.</p>
</blockquote>
<p>Because of the spaces, the following command won't work:</p>
<pre><code class="language-sh"># Does NOT work
find . \(-name '*.c*' -o -name '*.cpp' -o -name '*.h'\) 
</code></pre>
<h2 id="find-text-in-all-c-files"><a class="header" href="#find-text-in-all-c-files">Find text in all C files</a></h2>
<hr />
<pre><code class="language-sh">find . -name '*.c*' -exec grep 'text' {} +
</code></pre>
<p>For a more detalied output, that will include:</p>
<ul>
<li><code>-H</code> the path of the file</li>
<li><code>-n</code> line number</li>
<li><code>-color</code> colors matched REGEXs</li>
</ul>
<pre><code class="language-sh">find . -name '*.c*' -exec grep -H -n --color 'text' {} +
</code></pre>
<h2 id="find-replace-text-in-all-c-files"><a class="header" href="#find-replace-text-in-all-c-files">Find-Replace text in all C files</a></h2>
<hr />
<pre><code class="language-sh">find . -name '*.c*' -exec sed -i 's/old text/new text/g' {} +
</code></pre>
<h2 id="rename-all-c-files-to-cpp"><a class="header" href="#rename-all-c-files-to-cpp">Rename all C files to CPP</a></h2>
<hr />
<pre><code class="language-sh">find . -type f -name "*.c" -exec bash -c 'mv "$0" "${0%.c}.cpp"' {} \;
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="jq-json-querry"><a class="header" href="#jq-json-querry"><code>jq</code> (JSON Querry)</a></h1>
<h2 id="tldr-13"><a class="header" href="#tldr-13"><strong>TL;DR</strong></a></h2>
<hr />
<p>A JSON processor that uses a domain-specific language (DSL).</p>
<p>More information: <a href="https://jqlang.github.io/jq/manual/">https://jqlang.github.io/jq/manual/</a>.</p>
<pre><code class="language-sh"># Execute a specific expression only using the jq binary (print a colored and formatted JSON output):
jq '.' /path/to/file.json

# Execute a specific script:
cat path/to/file.json | jq --from-file path/to/script.jq

# Pass specific arguments:
cat path/to/file.json | jq --arg "name1" "value1" --arg "name2" "value2" ... '. + $ARGS.named'

# Create new JSON object via old JSON objects from multiple files:
cat path/to/multiple_json_file_*.json | jq '{newKey1: .key1, newKey2: .key2.nestedKey, ...}'

# Print specific array items:
cat path/to/file.json | jq '.[index1], .[index2], ...'

# Print all array/object values:
cat path/to/file.json | jq '.[]'

# Print objects with 2-condition filter in array:
cat path/to/file.json | jq '.[] | select((.key1=="value1") and .key2=="value2")'

# Add/remove specific keys:
cat path/to/file.json | jq '. +|# {"key1": "value1", "key2": "value2", ...}'
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="packages"><a class="header" href="#packages">Packages</a></h1>
<hr />
<ul>
<li><a href="content/System-Administrator/./Packages/nala.html">nala</a></li>
<li><a href="content/System-Administrator/./Packages/apt.html">apt</a></li>
<li><a href="content/System-Administrator/./Packages/dpkg.html">dpkg</a></li>
</ul>
<div style="break-before: page; page-break-before: always;"></div><h1 id="nala"><a class="header" href="#nala"><code>nala</code></a></h1>
<h2 id="tldr-14"><a class="header" href="#tldr-14"><strong>TL;DR</strong></a></h2>
<hr />
<p>Package management utility with better formatting.</p>
<p>Front-end for the python-apt API.</p>
<p>More information: <a href="https://gitlab.com/volian/nala">https://gitlab.com/volian/nala</a>.</p>
<pre><code class="language-sh"># Install a package, or update it to the latest available version:
sudo nala install package

# Remove a package:
sudo nala remove package

# Remove a package and its configuration files:
nala purge package

# Search package names and descriptions using a word, regex (default) or glob:
nala search "pattern"

# Update the list of available packages and upgrade the system:
sudo nala upgrade

# Remove all unused packages and dependencies from your system:
sudo nala autoremove

# Fetch fast mirrors to improve download speeds:
sudo nala fetch

# Display the history of all transactions:
nala history
</code></pre>
<h2 id="installing-nala"><a class="header" href="#installing-nala">Installing nala</a></h2>
<hr />
<blockquote>
<p>Check out this link: <a href="https://gitlab.com/volian/nala/-/wikis/Installation">https://gitlab.com/volian/nala/-/wikis/Installation</a>.</p>
</blockquote>
<p>Nala is officially in the testing and sid repos.</p>
<pre><code class="language-sh">sudo apt install nala
</code></pre>
<p>The following command will setup the repository and install Nala for you:</p>
<pre><code class="language-sh">curl https://gitlab.com/volian/volian-archive/-/raw/main/install-nala.sh | bash
</code></pre>
<blockquote>
<p>note: Ubuntu 20.04, 22.04 and Debian Bullseye this script may fail. If it does run</p>
</blockquote>
<pre><code class="language-sh">sudo apt install -t nala nala
</code></pre>
<h2 id="stop-using-apt"><a class="header" href="#stop-using-apt">Stop using APT</a></h2>
<hr />
<iframe width=600px height="350px" aspect-ratio=16/9 src="https://www.youtube.com/embed/oroSkR4Nn_w" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share" allowfullscreen></iframe>
<h2 id="results-for-nala"><a class="header" href="#results-for-nala">Results for <code>nala</code></a></h2>
<hr />
<p>Fetch fast mirrors to improve download speed</p>
<pre><code class="language-sh">$ sudo nala fetch
</code></pre>
<p><strong>Result</strong>:</p>
<br>
<img alt="img" src="content/System-Administrator/Packages/Images/nala/nala_fetch (in progress).png" height=auto width=auto>
<img alt="img" src="content/System-Administrator/Packages/Images/nala/nala_fetch (completed).png" height=auto width=auto>
<br>
<pre><code class="language-sh">$ sudo nala install -y curl wget gcc
</code></pre>
<p><strong>Result</strong>:</p>
<br>
<img alt="img" src="content/System-Administrator/Packages/Images/nala/nala_install_curl_wget_gcc%20(in%20progress).png" height=auto width=auto>
<img alt="img" src="content/System-Administrator/Packages/Images/nala/nala_install_curl_wget_gcc%20(completed).png" height=auto width=auto>
<br>
<p>Much better! Right?!</p>
<div style="break-before: page; page-break-before: always;"></div><h1 id="apt"><a class="header" href="#apt"><code>apt</code></a></h1>
<h2 id="tldr-15"><a class="header" href="#tldr-15"><strong>TL;DR</strong></a></h2>
<hr />
<p>Package management utility for Debian based distributions.</p>
<p>Recommended replacement for apt-get when used interactively in Ubuntu versions 16.04 and later.</p>
<p>For equivalent commands in other package managers, see <a href="https://wiki.archlinux.org/title/Pacman/Rosetta">https://wiki.archlinux.org/title/Pacman/Rosetta</a>.</p>
<p>More information: <a href="https://manned.org/apt.8">https://manned.org/apt.8</a>.</p>
<pre><code class="language-sh"># Update the list of available packages and versions (it's recommended to run this before other apt commands):
sudo apt update

# Search for a given package:
apt search package

# Show information for a package:
apt show package

# Install a package, or update it to the latest available version:
sudo apt install package

# Remove a package (using purge instead also removes its configuration files):
sudo apt remove package

# Upgrade all installed packages to their newest available versions:
sudo apt upgrade

# List all packages:
apt list

# List installed packages:
apt list --installed
</code></pre>
<div style="break-before: page; page-break-before: always;"></div><h1 id="dpkg"><a class="header" href="#dpkg"><code>dpkg</code></a></h1>
<h2 id="tldr-16"><a class="header" href="#tldr-16"><strong>TL;DR</strong></a></h2>
<hr />
<p>Debian package manager.</p>
<p>Some subcommands such as deb have their own usage documentation.</p>
<p>For equivalent commands in other package managers, see <a href="https://wiki.archlinux.org/title/Pacman/Rosetta">https://wiki.archlinux.org/title/Pacman/Rosetta</a>.</p>
<p>More information: <a href="https://manned.org/dpkg">https://manned.org/dpkg</a>.</p>
<pre><code class="language-sh"># Install a package:
dpkg -i path/to/file.deb

# Remove a package:
dpkg -r package

# List installed packages:
dpkg -l pattern

# List a package's contents:
dpkg -L package

# List contents of a local package file:
dpkg -c path/to/file.deb

# Find out which package owns a file:
dpkg -S path/to/file

# Purge an installed or already removed package, including configuration:
dpkg -P package
</code></pre>

                    </main>

                    <nav class="nav-wrapper" aria-label="Page navigation">
                        <!-- Mobile navigation buttons -->


                        <div style="clear: both"></div>
                    </nav>
                </div>
            </div>

            <nav class="nav-wide-wrapper" aria-label="Page navigation">

            </nav>

        </div>

        <!-- Livereload script (if served using the cli tool) -->
        <script>
            const wsProtocol = location.protocol === 'https:' ? 'wss:' : 'ws:';
            const wsAddress = wsProtocol + "//" + location.host + "/" + "__livereload";
            const socket = new WebSocket(wsAddress);
            socket.onmessage = function (event) {
                if (event.data === "reload") {
                    socket.close();
                    location.reload();
                }
            };

            window.onbeforeunload = function() {
                socket.close();
            }
        </script>



        <script>
            window.playground_copyable = true;
        </script>


        <script src="elasticlunr.min.js"></script>
        <script src="mark.min.js"></script>
        <script src="searcher.js"></script>

        <script src="clipboard.min.js"></script>
        <script src="highlight.js"></script>
        <script src="book.js"></script>

        <!-- Custom JS scripts -->

        <script>
        window.addEventListener('load', function() {
            window.setTimeout(window.print, 100);
        });
        </script>

    </div>
    </body>
</html>
